# Solana Memecoin Data Collection System
## PRD (Product Requirements Document)

**버전**: 1.0
**상태**: 확정
**최종 수정**: 2024-12-01

---

## 1. 개요

### 1.1 프로젝트 목적
Shyft.to API를 활용하여 Solana 블록체인 상의 밈코인 데이터를 실시간으로 수집, 저장, 분석하는 시스템 구축.

### 1.2 최종 목표
트레이딩 봇 개발을 위한 정확한 데이터 분석 기반 마련.

### 1.3 예상 비용
| 항목 | 비용 |
|------|------|
| Shyft gRPC (Yellowstone) | $199/월 |
| Shyft REST API | 무료 티어 |
| Jupiter Price API | 무료 |
| **총계** | **~$199/월** |

---

## 2. 필수 수집 데이터

| # | 데이터 | 설명 | 수집 주기 |
|---|--------|------|----------|
| 1 | 실시간 가격 | SOL/USD 단위 | 실시간 (gRPC) |
| 2 | 시가총액 | 가격 × 유통량 | 실시간 |
| 3 | FDV | 가격 × 총 공급량 | 실시간 |
| 4 | 24시간 거래량 | 매수/매도 건수 포함 | 실시간 집계 |
| 5 | 유동성 수준 | LP 풀 잔고 | 실시간 (gRPC Pool 구독) |
| 6 | 홀더 리스트 | 전체 지갑 목록 | 동적 (1분~1시간) |
| 7 | Top 10 비율 | 상위 10 지갑 보유 % | 동적 (홀더와 동일) |

### 2.1 홀더 업데이트 동적 주기

| 토큰 상태 | 조건 | 주기 |
|----------|------|------|
| 신규 | 생성 후 1시간 내 | **1분** |
| 초기 | 생성 후 24시간 내 | 5분 |
| 활성 | 홀더 < 1,000 | 30분 |
| 성숙 | 홀더 ≥ 1,000 | 1시간 |

---

## 3. 모니터링 대상

### 3.1 런치패드
- Pump.fun
- Bonk.fun
- 기타 Solana 밈코인 런치패드

### 3.2 예상 규모
- 일일 신규 토큰: 수천 개
- 활성 모니터링 토큰: 동적 관리

---

## 4. 데이터 활용 목적

### 4.1 분석 지표
- **고래 파악**: 상위 10 지갑 보유 비율로 덤핑 위험 평가
- **패닉셀/매집 감지**: 홀더 수 변화 추이
- **가짜 상승 감지**: 가격 상승 vs 거래량 비교
- **급등 전조 포착**: 거래량 급증 패턴

### 4.2 트레이딩 봇 연동
- 실시간 가격 피드
- 유동성 기반 슬리피지 계산
- 홀더 집중도 기반 리스크 평가

---

## 5. 비기능 요구사항

### 5.1 성능
- 가격 업데이트 지연: < 1초 (gRPC)
- 데이터베이스 쿼리: < 100ms

### 5.2 안정성
- gRPC 연결 자동 재시도
- Rate Limit 자동 관리
- 에러 로깅 및 알림

### 5.3 확장성
- 수천 개 토큰 동시 모니터링
- 우선순위 기반 업데이트 스케줄링

---

## 6. 구현 단계 요약

| Phase | 내용 | 태스크 수 |
|-------|------|----------|
| 1 | 기반 구축 | 4 |
| 2 | Shyft 클라이언트 | 3 |
| 3 | 실시간 데이터 (gRPC) | 3 |
| 4 | 가격 시스템 | 3 |
| 5 | 거래량/시총 | 2 |
| 6 | 홀더 분석 | 3 |
| 7 | 작업 큐 및 스케줄링 | 3 |
| **총계** | | **21** |

---

## 7. 선행 조건

1. **Shyft 계정 생성**: https://shyft.to
2. **gRPC 플랜 결제**: $199/월 또는 프로모션 코드 적용
3. **API 키 발급**: REST API + gRPC 토큰
4. **로컬 환경**: Docker, Node.js 18+

---

## 8. 참고 문서

- [TRD.md](./TRD.md) - 기술 설계 문서
- [Shyft API Docs](https://docs.shyft.to)
- [Shyft gRPC Docs](https://docs.shyft.to/solana-yellowstone-grpc/docs)
